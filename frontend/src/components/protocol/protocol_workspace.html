<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Protocol Workspace</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="/frontend/src/dashboard/template/protocolManagement/protocol_styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
    <style>
        .dashboardSection {
            margin-bottom: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .dashboardSection h2 {
            margin-top: 0;
        }

        .button1 {
            padding: 8px 12px;
            background-color: MediumSeaGreen;
            color: lemonchiffon;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .button1:hover {
            background-color: #253725;
        }
    </style>
</head>
<body>
    <h1>Protocol Workspace - <span id="protocolTitle">Loading...</span></h1>
    
    <div class="dashboardSection">
        <h2>Invite Collaborators</h2>
        <form id="inviteCollaboratorsForm">
            <label for="collaboratorEmail">Collaborator Email:</label>
            <input type="email" id="collaboratorEmail" name="collaboratorEmail" required><br>

            <label for="collaboratorRole">Role:</label>
            <select id="collaboratorRole" name="collaboratorRole">
                <option value="reviewer">Reviewer</option>
                <option value="lead_author">Lead Author</option>
                <option value="data_extractor">Data Extractor</option>
                <option value="synthesizer">Synthesizer</option>
            </select><br>

            <button type="submit" class="button1">Invite</button>
        </form>
    </div>

    <div id="collaboration-container">
        <h2>Online Collaborators</h2>
        <div id="online-users">
            <ul id="users-list">
                <!-- Users will be dynamically added here -->
            </ul>
        </div>

        <div id="task-list">
            <h2>Tasks</h2>
            <a href="/assign_task/{{ protocol.id }}">Assign New Task</a>
            <ul id="tasks-list">
                <!-- Tasks will be dynamically added here -->
            </ul>
        </div>

        <div id="comments-section">
            <h2>Comments</h2>
            <div id="comments">
                <!-- Comments will be dynamically added here -->
            </div>
            <form id="comment-form">
                <input type="text" id="comment-input" placeholder="Type your comment..." required>
                <button type="submit" class="button1">Send</button>
            </form>
        </div>
    </div>

    <footer>
        <p>Â© 2025 ARMS. All Rights Reserved.</p>
    </footer>

    <script src="workspace.js"></script>
</body>
</html>
