This is an attemp to create protocol management dashboard, where users can nevigate through pages like Protocol Create, Protocol Edit, Collaborate, Protocol Review, and view Protocol Version in the dashboard. The user can acess some of the other pages like Protocol Template, Protocol Create, Protocol Edit, view version, and share functions rendered on the general new protocol creation page. User also can navigate to homepage and logout using top bar, or can navigate to homepage, Protocol Dashboard, project dashboard, and chat center through sidebar meneus. Please evaluate and fix the logic so that the user can navigate through diffrent protocol tasks using click functions rendering navigation menuItems in 'mainprotocolarea'. 


<!DOCTYPE html>
<html lang='en'>
<head>
    <title>Protocol Dashboard</title>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no' />
    <meta name="theme-color" content="#328db5" />
    <meta name="navigation-bar-button-color" content="#000000" />
    <meta name="navigation-bar-button-border-color" content="#000000" />
    <meta name="navigation-bar-button-hasshadow" content="false" />
    <meta name="hide-navigation-bar" content="false" />
    <link rel="stylesheet" href="protocol_styles.css">
    <link rel="stylesheet" href="/frontend/src/dashboard/template/protocolManagement/protocol_styles.css">
  

    <script src='https:// ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.1.min.js'></script>
    <script src="js/ProtocolTemplate.js"></script>

    <script src="js/ProtocolCreate.js"></script>
     <script src="js/ProtocolEdit.js"></script>
     <script src="js/ProtocolReview.js"></script>
     <script src="ProtocolVersion.js"></script>
     <script src="workspace.js"></script>
     <script src="workspace.js"></script>
    <style>

        body {
            font-family: Verdana, sans-serif;
            font-size: 0.8em;
            margin: 0px;
            background-color: #f4f4f4;
        }

        a {
            cursor: pointer;
            color: steelblue;
        }

        nav ul li {
            display: inline;
            padding: 5px;
        }

        a:hover {
            color: royalblue;
            text-decoration: underline;
        }

        nav, section, article {
            margin: 5px;
            padding: 8px;
        }

        
        header {
          background: #2c3e50;
          color: white;
          padding: 15px;
          text-align: center;
          
        }
        

        #headerDescription {
            margin: 5px;
            padding: 8px;
            margin-top: 0;
            color: white;
        }
        
        header nav a {
          color: white;
          margin: 0 15px;
          text-decoration: none;
          
        }

        #content {
            margin-left: 5px;
            margin-right: 5px;
            text-align: justify;
        }
      
        .dashboardContainer {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
            height: auto;
            
        }
        .sidebar h2 {
            color: #ecf0f1;
            margin-bottom: 20px;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar ul li {
            margin: 15px 0;
        }

        .sidebar ul li a {
            color: #ecf0f1;
            text-decoration: none;
            font-size: 16px;
        }

        .sidebar ul li a:hover {
            text-decoration: underline;
        }

        .mainContent {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        main nav ul li a {
          margin: 10px;
          padding: 10px;
          margin-top: 5px;
          color: white;
          background-color: MediumSeaGreen ;
          border-radius: 5px;
          display: inline-block;
          flex-wrap: wrap;
          text-decoration: none;
          box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
          height: auto;
        }
        
        main nav  ul li a:hover {
            text-decoration: underline;
            color: whitesmoke 
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }

        .mainprotocolarea {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .newprotocol {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        .newprotocol {
            flex: 1;
            margin: 0 10px;
            padding: 15px;
            background: #ecf0f1;
            border-radius: 8px;
            text-align: center;
        }



            .newprotocol {
              flex-direction: row;
            }

            .newprotocolarea {
              margin: 10px 0;
            }
            
             .editprotocol {
              padding: 10px;
            }
             
            
            
        .summary {
            width: 100%;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }
        .summary {
            margin-top: 15px;
        }

        #summaryFill {
            height: 20px;
            background: #27ae60;
            text-align: center;
            color: white;
            line-height: 20px;
        }

        .recentActivity, .notifications {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        .notifications {
         position: translateX(80);
        }

        @media (max-width: 768px) {
            .dashboardContainer {
                flex-direction: column;
            }
        }


    </style>

</head>
<body>

     <header>
     <h1 id='ProtocolDashboard'>Protocol Management Dashoarsd</h1>
  
   <nav>
     <a href="/frontend/public/index.html">Home</a>
     <a href="/frontend/public/blog.html">Blog</a></li>
     <a href="#" id="logout">Logout</a>
   </nav>
 </header>
 
 
 <div class="dashboardContainer">
   <nav class="sidebar">
     <h2>Protocol Dashboard</h2>
      <ul>
        <li><a href="/frontend/public/index.html">Home</a></li><br>
        <li><a href="/frontend/src/dashboard/template/project/project_dashboard.html">Project Dashboard</a></li><br>
        <li><a href="#ProtocolDashboard.html">Protocol Dashboard</a></li><br>
        <li><a href="protocol_workspace.html">Invite Collaborators</a></li><br>
        <li><a href="frontend/src/dashboard/template/project/ChatComponent.html">Chat</a></li><br>
        <li><a href="frontend/src/dashboard/template/project/NotificationList.html">Notifications</a></li>
      </ul>
    </nav>
    
    <main class="mainContent">
      <div class="mainprotocolarea">
          <nav>
             <ul>
               <li><a id='aProtocolCreate' href="ProtocolCreate.html">Protocol Create</a></li>
               <li><a id='aProtocolEdit' href="ProtocolEdit.html">Protocol Edit</a></li>
               <li><a id='aprotocol_workspace' href="protocol_workspace.html">Collaborate</a></li>
               <li><a id='aProtocolReview' href="ProtocolReview.html">Protocol Review</a></li>
               <li><a id='aProtocolVersion' href="ProtocolVersion.html">Protocol Version</a></li>
               </ul>
               </nav>
        <section>
      <article id='content'>
            <h2>Manage Review Protocol</h2>
            <div class="newprotocol">
              <div class="newprotocol">
                <h3>Create New Protocol</h3>
                <p id="aProtocolTemplate"> Set Protocol Template</p>
                <article id='content'></article>
                </div>
              </div>
              <div class="newprotocol">
              <div class="newprotocol">
                <h3>Create New Protocol</h3>
                <p id="aProtocolCreate"> Protocol Type</p>
                <article id='content'></article>
              </div>
              </div>
              <div class="newprotocol">
              <div class="newprotocol">
              <h3>Protocol Summary</h3>
              <div class="summary">
                <div id="aProtocolCreate" style="width: 66%;">
                  <article id='content'></article>
                  <div id='input'>
                  <input type="text" id="protocol_summary" placeholder="Protocol summary..."/>
                  <input type="file" id="protocol_file" placeholder="Upload File"/>
                  <button type="submit">Save</button>
                  </div>
                </div>
                </div>
                </div>
                </div>
      </article> 
      </section>
      <section>
        <article id='content'>
          <div class="newprotocol">
           <div class="newprotocol">
            <div class="newprotocol">
              <h3>Edit Protocol</h3>
                <p id="aProtocolEdit">Protocol Edit</p>
                <article id='content'></article>
              </div>
             <div class="editprotocol">
              <h3>Edit History</h3>
                <p id="aProtocolVersion">Protocol History</p>
                <article id='content'></article>
              </div>
              </div>
              </div>
        <div class="recentActivity editprotocol">
          <h2>Recent Activity</h2>
          <ul id="activityFeed">
            <!-- Recent activities will be dynamically populated here -->
          </ul>
          <input type="text" id="activitySearch" placeholder="Search activities..." />
        </div>
      
          <div class="notifications">
            <h2></h2>
            <div id="notificationList">
              <!-- Notifications will be dynamically populated here -->
            </div>
            <!-- Search inputs -->
            <input type="text" id="notificationSearch" placeholder="Search notifications..." />
          </div>
    
        </div>
          </article>
          </section>


    
<section>
      <footer>
      <p style="text-align:center;">© 2025 ARMS. All Rights Reserved.</p></footer>
</section>

    </main>

    <script>
$(document).ready(function(){
  const apiBaseUrl = 'http://localhost:3306'; // Set your API URL
function protocolDashboard(){
var pagecontent="<section>
<div class="templateContainer">
        <h1>Protocol Templates</h1>
        <div class="templateList">
            <h2>Existing Templates</h2>
            <div id="existingTemplates"></div>
            </div>
        <div class="newTemplate">
            <h2>Create Template</h2>
            <input type="text" id="template_name" placeholder="Template title" class="templateInput" />
            <textarea id="template_description" placeholder="Template description" class="templateInput"></textarea>
            <div class="addSection">
                <input type="text" id="newSection" placeholder="Add new section" class="templateInput" />
                <button id="addSection" class="addButton">Add section</button>
            </div>
            <div id="sectionList"></div>
            <button id="createTemplate" class="createButton">Create Template</button>
        </div>
    </div>
    </section>
    <section class="createprotocol">
    <nav>
          <ul>
          <li><a href="ProtocolTemplate.html">Protocol Template</a></li><br>
            <li><a href="ProtocolCreate.html">Protocol Create</a></li><br>
            <li><a href="ProtocolEdit.html">Protocol Edit</a></li><br>
            <li><a href="ProtocolReview.html">Protocol Review</a></li><br>
            <li><a href="ProtocolVersion.html">Protocol Version</a></li><br>
             <li><a href="ProtocolShare.html">Share Protocol</a></li><br>
             </ul>
             </nav>
        </section>
    <footer> <p>© 2025 ARMS. All Rights Reserved.</p> </footer>";
    
$('#content').html(pagecontent).fadeOut('fast').fadeIn('fast');
$('#headerDescription').text('Protocol Dashboard');
$('#content').css({'left':'1000px','position':'fixed'}).animate({left:'5px'});
$('#content').css({'position':'relative'});
}
$('#aProtocolTemplate').click(function (){
protocolDashboard();
});

$('#aProtocolCreate').click(function(){
var pagecontent="<div class="protocolCreateContainer">
        <h1>Create Protocol</h1>
        <div class="protocolForm">
            <form id="protocolForm" method="POST" action="/create_protocol">
                <input type="text" id="protocolTitle" placeholder="Enter Protocol Title" class="protocolInput" required />
                
                <label for="summary">Summary:</label>
                <textarea id="summary" name="summary" required></textarea>
                
                <label for="review_type">Review Type:</label>
                <select id="review_type" name="review_type" class="reviewTypeSelect">
                    <option value="scoping">Scoping Review</option>
                    <option value="systematic">Systematic Review</option>
                    <option value="meta_analysis">Meta-Analysis</option>
                    <option value="qualitative">Qualitative Review</option>
                    <option value="mixed_review">Mixed Methods Review</option>
                    <option value="other_review">Other Review</option>
                </select>

                <label for="templateSelect">Select Template:</label>
                <select id="templateSelect" class="templateSelect">
                    <option value="" disabled selected>Select a template</option>
                </select>

                <button type="button" id="createProtocol" class="createButton">Create Protocol</button>
            </form>
        </div>
        <div id="sectionList" class="sectionList"></div>
        <div class="error" id="message"></div>
    </div>
    <footer>
      <p>© 2025 ARMS. All Rights Reserved.</p>
    </footer>";
$('#content').html(pagecontent).fadeOut('fast').fadeIn('fast');
$('#headerDescription').text('Protocol Create');
$('#content').css({'left':'1000px','position':'fixed'}).animate({left:'5px'});
$('#content').css({'position':'relative'});
});

$('#aprotocol_workspace').click(function(){
var pagecontent="<h1>Protocol Workspace - <span id="protocolTitle">Loading...</span></h1>
    
    <div class="dashboardSection">
        <h2>Invite Collaborators</h2>
        <form id="inviteCollaboratorsForm">
            <label for="collaboratorEmail">Collaborator Email:</label>
            <input type="email" id="collaboratorEmail" name="collaboratorEmail" required><br>

            <label for="collaboratorRole">Role:</label>
            <select id="collaboratorRole" name="collaboratorRole">
                <option value="reviewer">Reviewer</option>
                <option value="lead_author">Lead Author</option>
                <option value="data_extractor">Data Extractor</option>
                <option value="synthesizer">Synthesizer</option>
            </select><br>

            <button type="submit" class="button1">Invite</button>
        </form>
    </div>

    <div id="collaboration-container">
        <h2>Online Collaborators</h2>
        <div id="online-users">
            <ul id="users-list">
                <!-- Users will be dynamically added here -->
            </ul>
        </div>

        <div id="task-list">
            <h2>Tasks</h2>
            <a href="/assign_task/{{ protocol.id }}">Assign New Task</a>
            <ul id="tasks-list">
                <!-- Tasks will be dynamically added here -->
            </ul>
        </div>

        <div id="comments-section">
            <h2>Comments</h2>
            <div id="comments">
                <!-- Comments will be dynamically added here -->
            </div>
            <form id="comment-form">
                <input type="text" id="comment-input" placeholder="Type your comment..." required>
                <button type="submit" class="button1">Send</button>
            </form>
        </div>
    </div>
    <footer>
        <p>© 2025 ARMS. All Rights Reserved.</p>
    </footer>";
    
$('#content').html(pagecontent).fadeOut('fast').fadeIn('fast');
$('#headerDescription').text('Protocol Workspace);
$('#content').css({'left':'1000px','position':'fixed'}).animate({left:'5px'});
$('#content').css({'position':'relative'});
});

$('#aProtocolEdit').click(function(){
var pagecontent="
    <div class="protocolEditContainer">
        <h1>Edit Protocol: <span id="protocolTitle">Loading...</span></h1>

        <div class="protocolForm">
            <form id="protocolForm" method="POST" action="/protocol/edit">
                <label for="protocol_title">Protocol Title:</label>
                <input type="text" id="protocol_title" name="protocol_title" required />

                <label for="protocol_summary">Summary:</label>
                <textarea id="protocol_summary" name="protocol_summary" rows="4" required></textarea>

                <label for="protocol_type">Review Type:</label>
                <select id="protocol_type" name="protocol_type" class="reviewTypeSelect">
                    <option value="scoping">Scoping Review</option>
                    <option value="systematic">Systematic Review</option>
                    <option value="meta_analysis">Meta-Analysis</option>
                    <option value="qualitative">Qualitative Review</option>
                    <option value="mixed_review">Mixed Methods Review</option>
                    <option value="other_review">Other Review</option>
                </select>

                <button type="button" id="saveProtocol" class="saveButton">Save Changes</button>
            </form>
        </div>

        <div class="sectionList" id="sectionList"></div>
        <div class="commentsSection">
            <h2>Comments</h2>
            <div class="commentsList" id="commentsList"></div>
            <div class="addComment">
                <input type="text" id="newComment" placeholder="Add a comment" class="commentInput" />
                <button id="addComment" class="addButton">Add Comment</button>
            </div>
        </div>
        <div class="versionHistory">
            <h2>Version History</h2>
            <ul id="versionHistoryList"></ul>
        </div>
    </div>
        <div class="shareContainer">
        <h1>Protocol Sharing</h1>
        <div id="protocolShareContent">
            <div class="shareForm">
                <input type="text" id="shareWith" placeholder="Share with user (email or username)" class="shareInput" required />
                <select id="accessType" class="accessSelect">
                    <option value="read-only">Read Only</option>
                    <option value="read-write">Read Write</option>
                </select>
                <button id="shareButton" class="shareButton">Share Protocol</button>
            </div>
            <div class="shareLink">
                <input type="password" id="password" placeholder="Enter password for share link" class="shareInput" required />
                <button id="generateShareLinkButton" class="shareButton">Generate Share Link</button>
                <p id="shareLinkMessage"></p>
            </div>
            <button id="fetchShareLinkButton" class="shareButton" style="margin: 10px 0;">Fetch Share Link</button>
            <p id="notificationMessage" class="message"></p>
        </div>
        <p id="noprotocolMessage" style="display: none;">Select a protocol to manage protocol sharing.</p>
    </div>
    <footer>
        <p>© 2025 ARMS. All Rights Reserved.</p>
    </footer>"; 
    
$('#content').html(pagecontent).fadeOut('fast').fadeIn('fast');
$('#headerDescription').text('Protocol Edit');
$('#content').css({'left':'1000px','position':'fixed'}).animate({left:'5px'});
$('#content').css({'position':'relative'});
});
$('#aProtocolReview').click(function(){
var pagecontent="<div class="reviewContainer">
        <h1>Protocol Review and Approval</h1>
        <div class="assignReviewer">
            <select id="sectionSelect" class="selectInput">
                <option value="" disabled selected>Select a section to assign reviewer</option>
            </select>
            <select id="reviewerSelect" class="selectInput">
                <option value="" disabled selected>Select a Reviewer</option>
            </select>
            <button id="assignReviewer" class="assignButton">Assign Reviewer</button>
        </div>
        <div class="reviewList" id="reviewList"></div>
        <div class="approvalSection">
            <h2>Approval History:</h2>
            <ul id="approvalHistoryList"></ul>
            <button id="approveProtocol" class="approveButton">Approve Protocol</button>
        </div>
    </div>

    <footer>
        <p>© 2025 ARMS. All Rights Reserved.</p>
    </footer>";
$('#content').html(pagecontent).fadeOut('fast').fadeIn('fast');
$('#headerDescription').text('Protocol Review');
$('#content').css({'left':'1000px','position':'fixed'}).animate({left:'5px'});
$('#content').css({'position':'relative'});
});
$('#aProtocolVersion').click(function(){
var pagecontent="<div class="versionContainer">
        <h1>Protocol Version History</h1>
        <h3 id="protocolTitle">Loading...</h3>
        
        <div class="versionList" id="versionList">
            <ul></ul>
        </div>

        <div class="versionContent" id="versionContent" style="display: none;">
            <h3>Version: <span id="selectedVersion"></span></h3>
            <p id="contentText"></p>
        </div>

        <h3>Rollback to Version</h3>
        <form id="rollback-form" class="rollback-form">
            <label for="versionNumber">Enter Version Number:</label>
            <input type="number" id="versionNumber" name="version_number" min="1" required>
            <button type="button" id="rollback-btn">Rollback</button>
        </form>
    </div>

 <footer>
   <p>© 2025 ARMS. All Rights Reserved.</p>
 </footer>";
$('#content').html(pagecontent).fadeOut('fast').fadeIn('fast');
 $('#headerDescription').text('Protocol Version');
$('#content').css({'left':'1000px','position':'fixed'}).animate({left:'5px'});
$('#content').css({'position':'relative'});
});
document.onload=protocolDashboard();
});
    </script>

</body>
</html>